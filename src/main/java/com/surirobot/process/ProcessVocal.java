package com.surirobot.process;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.json.JSONObject;

import com.surirobot.interfaces.IProcessVocal;
import com.surirobot.interfaces.services.IService;
import com.surirobot.services.vokaturi.EmotionVokaturi;
/**
 * 
 * @author jussieu
 * 
 * Permet de traiter le flux audio reçu.
 *
 */
public class ProcessVocal implements IProcessVocal {

	private static final Logger logger = LogManager.getLogger();
	
	/**
	 * Méthode qui traite le fichier vocal reçu.
	 * si le flux == {@link <code>null</code>} ou vide: la méthode retourne un json vide.
	 * sinon : elle passe les donnée à l'API.
	 */
	
	@Override
	public String process(String data) {
		logger.info("ProcessVocal : start process");
		
		if(data == null) return "{}";
		if(data.equals("")) return "{}";
		IService<JSONObject, String, String> vokaturi = new EmotionVokaturi();
		return vokaturi.getEmotions(data).toString();
		
	}

}
